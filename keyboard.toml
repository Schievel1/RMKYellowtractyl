[keyboard]
name = "YellowTractyl"
product_name = "YellowTractyl"
vendor_id = 0x44dd
product_id = 0x3536
manufacturer = "Pascal JÃ¤ger"
chip = "rp2040"

[layout]
rows = 6
cols = 12
layers = 3
matrix_map = """
(0, 0, L)  (0, 1, L)  (0, 2, L)  (0, 3, L)  (0, 4, L)  (0, 5, L)                    (0, 6, R)  (0, 7, R)  (0, 8, R)  (0, 9, R)  (0, 10, R)  (0, 11, R)
(1, 0, L)  (1, 1, L)  (1, 2, L)  (1, 3, L)  (1, 4, L)  (1, 5, L)                    (1, 6, R)  (1, 7, R)  (1, 8, R)  (1, 9, R)  (1, 10, R)  (1, 11, R)
(2, 0, L)  (2, 1, L)  (2, 2, L)  (2, 3, L)  (2, 4, L)  (2, 5, L)                    (2, 6, R)  (2, 7, R)  (2, 8, R)  (2, 9, R)  (2, 10, R)  (2, 11, R)
(3, 0, L)  (3, 1, L)  (3, 2, L)  (3, 3, L)  (3, 4, L)  (3, 5, L)                    (3, 6, R)  (3, 7, R)  (3, 8, R)  (3, 9, R)  (3, 10, R)  (3, 11, R)
                      (4, 2, L)  (4, 3, L)                                                                (4, 8, R)  (4, 9, R)
                                            (4, 4, L)  (4, 5, L)                             (4, 7, R)
                                              (5, 4, L)  (5, 5, L)                           (5, 7, R)
                                              (5, 2, L)  (5, 3, L)      (5, 8, R)  (5, 9, R)
"""
[aliases]
cut = "WM(X, LCtrl)"
copy = "WM(C, LCtrl)"
paste = "WM(V, LCtrl)"
openbrc = "WM([, LShift)"
closebrc = "WM(], LShift)"
openparen = "WM(9, LShift)"
closeparen = "WM(0, LShift)"

[[behavior.macro.macros]]
operations = [
  { operation = "text", text = "{" }
]
[[behavior.macro.macros]]
operations = [
  { operation = "text", text = "}" }
]

[behavior.morse]
enable_flow_tap = false
hold_timeout = "100ms"

[[layer]]
name = "DVORAK"
keys = """
`          1          2          3          4          5                            6          7          8          9          0           =
tab        '          Comma      .          p          y                            f          g          c          r          l           /
esc        a          o          e          u          i                            d          h          t          n          s           -
no         ;          q          j          k          x                            b          m          w          v          z           bsls
                      lbrc       rbrc                                                          page_up    page_down
                               MT(Macro0, LShift)     Space                              MT(Macro1, RShift)
                                              LCtrl    MO(LOWER)                             Backspace
                                              LAlt     LGui                 Enter  RGui
"""
[[layer]]
name = "LOWER"
keys = """
_          F1         F2         F3         F4         F5                           F6         F7         F8         F9         F10         del
___        _          _          _          _          @openbrc                     @closebrc   ms_btn1    _          _          _           _
___        _          _          MO(RAISE)  del        @openparen                   @closeparen left       up         down       right       _
caps       _          _          @cut       @copy      @paste                       _           ms_btn2    _          _          _           _
                      _          _                                                                        _______    _________
                                            ______     _____                                 ______
                                              _____    _____                             _________
                                              ____     ____                 _____  ____
"""
[[layer]]
name = "RAISE"
keys = """
_          _          _          _          _          _                            _          num        psls       past       pmns        calc
_          _          _          _          _          _                            _          kp_7       kp_8       kp_9       ppls        mute
_          _          _          _          _          _                            _          kp_4       kp_5       kp_6       _           volu
_          _          _          _          _          _                            kp_0       kp_1       kp_2       kp_3       peql        vold
                      _          _                                                                        pdot       peql
                                            ______     _____                                 ______
                                              _____    _____                             _________
                                              ____     ____                 _____  ____
"""

[storage]
clear_storage = true

[split]
connection = "serial"

[split.central]
rows = 6
cols = 6
row_offset = 0
col_offset = 6
serial = [{ instance = "UART0", tx_pin = "PIN_0", rx_pin = "PIN_1" }]

[split.central.matrix]
matrix_type = "normal"
row_pins = ["PIN_4", "PIN_5", "PIN_6", "PIN_7", "PIN_8", "PIN_9"]
col_pins = ["PIN_10", "PIN_11", "PIN_12", "PIN_13", "PIN_14", "PIN_15"]

[[split.peripheral]]
rows = 6
cols = 6
row_offset = 0
col_offset = 0
serial = [{ instance = "UART0", tx_pin = "PIN_0", rx_pin = "PIN_1" }]

[split.peripheral.matrix]
matrix_type = "normal"
row_pins = ["PIN_4", "PIN_5", "PIN_6", "PIN_7", "PIN_8", "PIN_9"]
col_pins = ["PIN_10", "PIN_11", "PIN_12", "PIN_13", "PIN_14", "PIN_15"]

[rmk]
split_peripherals_num = 1

[host]
# Unlock combination: simultaneous press of specified keys
unlock_keys = [[0, 0], [2, 0]]  # Keys at (row=0,col=0) and (row=0,col=1) (~ and ESC)

[[input_device.pmw3610]]
name = "trackball0"

spi.instance = "bitbang0"
spi.sck = "PIN18"
spi.mosi = "PIN16"
spi.miso = "PIN16"
spi.cs = "PIN17"
# or spi = { instance = "bitbang0", sck = "P0_05", mosi = "P0_04", miso = "P0_04", cs = "P0_09" }

motion = "PIN20" # Optional. If omitted, the sensor is polled.

force_awake = false
smart_mode = true
cpi = 800
invert_x = true
# invert_y = true
# swap_xy = true
